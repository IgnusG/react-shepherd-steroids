var J=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var P=(t,o,a)=>o in t?J(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,U=(t,o)=>{for(var a in o||(o={}))z.call(o,a)&&P(t,a,o[a]);if(O)for(var a of O(o))H.call(o,a)&&P(t,a,o[a]);return t},j=(t,o)=>W(t,X(o));(function(t,o){typeof exports=="object"&&typeof module!="undefined"?o(exports,require("react-shepherd"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react-shepherd","react","react-dom"],o):(t=typeof globalThis!="undefined"?globalThis:t||self,o(t["react-shepherd-steroids"]={},t.reactShepherd,t.React,t.ReactDOM))})(this,function(t,o,a,R){"use strict";var K="";function L(e,n=()=>{}){return new Promise(r=>{n(setTimeout(r,e*1e3))})}const _=o.ShepherdTour,B=o.ShepherdTourContext,y="data-x-shepherd-disable-transitions";function D(e,n,r={}){let i=!1,u=!1,c;function d(){c=requestAnimationFrame(()=>{const s=document.querySelector(e);i&&s&&(i=!1,document.body.setAttribute(y,"true"),n.show(),requestAnimationFrame(()=>document.body.removeAttribute(y))),!i&&!s&&(i=!0,r.hideOnUnmount&&n.hide()),u||d()})}return[d,()=>{u=!1,cancelAnimationFrame(c)}]}function w(e,n,r){const i=r.querySelector(n);i&&R.render(e,i)}const m="data-x-shepherd-marker";function T(e,n){let r,i,u;return j(U({},e),{text:typeof e.text!="string"?"":e.text,title:typeof e.title!="string"?"":e.title,when:{show(){var A,g,x,E,q,k,M,p;const c=(A=e.attachTo)==null?void 0:A.element,d=e.marker,s=(x=e.hideOnUnmount)!=null?x:(g=n==null?void 0:n.defaultStepOptions)==null?void 0:g.hideOnUnmount,l=this.getTour(),S=this.id,h=this.el;if(d?document.body.setAttribute(m,d):document.body.removeAttribute(m),r==null||r(),typeof e.text!="string"&&w(e.text,".shepherd-text",h),e.title&&typeof e.title!="string"&&w(e.title,".shepherd-title",h),typeof c=="string"){const[f,v]=D(c,{show:()=>{l.show(S)},hide:()=>{this.hide()}},{hideOnUnmount:s});f(),r=v}if(e.advanceOn){const f=(q=e.advanceOn.selector)!=null?q:(E=e.attachTo)==null?void 0:E.element;i=(k=typeof f=="string"?document.querySelector(f):f)!=null?k:document.body,u=()=>{var v,C,F;if((v=e.advanceOn)==null?void 0:v.goTo)return l.show((C=e.advanceOn)==null?void 0:C.goTo);if(!((F=e.advanceOn)==null?void 0:F.selector))return l.next()},i.addEventListener(e.advanceOn.event,u)}(p=(M=e==null?void 0:e.when)==null?void 0:M.show)==null||p.call(this)},hide(){var c,d;r==null||r(),e.advanceOn&&(i==null||i.removeEventListener(e.advanceOn.event,u)),(d=(c=e==null?void 0:e.when)==null?void 0:c.hide)==null||d.call(this)}},async beforeShowPromise(){var s,l,S,h;const c=(s=e.attachTo)==null?void 0:s.element,d=(S=e.waitForElement)!=null?S:(l=n==null?void 0:n.defaultStepOptions)==null?void 0:l.waitForElement;if(typeof c=="string"&&d)for(;!document.querySelector(c);)await L(.5);return(h=e==null?void 0:e.beforeShowPromise)==null?void 0:h.call(this)}})}function G({steps:e,tourOptions:n,children:r}){const i=a.useMemo(()=>e.map(u=>T(u,n)),[e,n]);return a.createElement(_,{steps:i,tourOptions:n,children:r})}function b(){const e=a.useContext(B);if(e===null)throw new Error("Shepherd has been requested outside of it's access - remember to wrap your app in <ShepherdTour>");return a.useEffect(()=>{let n=!1;const r=e.cancel,i=e.addStep,u=e.start;e.addStep=(c,d)=>{const s=e.options,l=T(c,s);return i.call(e,l,d)},e.start=()=>{if(e.isActive()){n||(n=!0,console.warn("A tour is already active - if you want to restart it use tour.restart"));return}return u.call(e)},e.restart=()=>{e.isActive()&&r.call(e),u.call(e)},e.on("complete",()=>{document.body.removeAttribute(m)}),e.on("cancel",()=>{document.body.removeAttribute(m)})},[e]),e}function I(){const e=b(),[n,r]=a.useState(!1),[i,u]=a.useState(void 0);return a.useEffect(()=>{function c(){r(!0)}function d(l){u(l.step.options.marker)}function s(){u(void 0),r(!1)}return e.on("show",d),e.on("complete",s),e.on("start",c),()=>{e.off("show",d),e.off("complete",s),e.off("start",c)}}),[i,n]}t.ShepherdTour=G,t.useShepherdTour=b,t.useShepherdTourMarker=I,Object.defineProperty(t,"__esModule",{value:!0}),t[Symbol.toStringTag]="Module"});
